{"version":3,"file":"static/webpack/static/development/pages/callouts.js.7c3a1b16adec295e7265.hot-update.js","sources":["webpack:///./pages/callouts.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Page from '../layouts/main';\nimport styled from 'styled-components';\n\n// -- json\nimport CalloutImageJson from '../static/json/map_callouts.json';\n\nimport MapSelector from '../components/callouts/map_selector';\nimport CalloutViewer from '../components/callouts/callout_viewer';\n\n//\n// -- Styles\nconst CalloutWrapper = styled.div`\n\tdisplay: flex;\n\t> div {\n\t\tflex: 1;\n\t}\n`;\n\nclass Callouts extends Component {\n\tstate = {\n\t\tactive_map: '',\n\t\ttimer: 5,\n\t\ttimer_is_paused: false,\n\t\tmap_images: [\n\t\t\t{\n\t\t\t\timage_path:\n\t\t\t\t\t'static/images/callout_images/clubhouse/blue_stairs_supply.jpg',\n\t\t\t\tcallout_location: 'clubhouse image 1'\n\t\t\t}\n\t\t],\n\t\tmap_image_index: 0\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.startTimer();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.incrementer);\n\t}\n\n\tstartTimer = () => {\n\t\tthis.setState({ timer_is_paused: false });\n\t\tthis.incrementer = setInterval(() => {\n\t\t\tif (this.state.timer === 0) {\n\t\t\t\tthis.changeImage();\n\t\t\t} else {\n\t\t\t\tthis.setState({ timer: this.state.timer - 1 });\n\t\t\t}\n\t\t}, 1000);\n\t};\n\n\tstopTimer = () => {\n\t\tclearInterval(this.incrementer);\n\t\tthis.setState({ timer_is_paused: true });\n\t};\n\n\tsetActiveMap = map_name => {\n\t\tthis.stopTimer();\n\t\tthis.setState({ active_map: map_name, timer: 5 });\n\t\tthis.setActiveMapImages(map_name);\n\t\tthis.startTimer();\n\t};\n\n\tsetActiveMapImages = map_name_passed => {\n\t\tCalloutImageJson.map(current_map => {\n\t\t\tif (current_map.map_name === map_name_passed) {\n\t\t\t\tthis.setState({ map_images: current_map.images });\n\t\t\t}\n\t\t});\n\t};\n\n\tchangeImage = () => {\n\t\tthis.stopTimer();\n\t\tsetTimeout(() => {\n\t\t\tthis.startTimer();\n\t\t\tthis.setState({ timer: 5 });\n\t\t\tif (this.state.map_image_index !== this.state.map_images.length - 1) {\n\t\t\t\tthis.setState({ map_image_index: this.state.map_image_index + 1 });\n\t\t\t} else {\n\t\t\t\tthis.setState({ map_image_index: 0 });\n\t\t\t}\n\t\t}, 3500);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<CalloutWrapper>\n\t\t\t\t\t<MapSelector\n\t\t\t\t\t\tsetActiveMap={this.setActiveMap}\n\t\t\t\t\t\tactiveMap={this.state.active_map}\n\t\t\t\t\t/>\n\t\t\t\t\t<CalloutViewer\n\t\t\t\t\t\tactiveMap={this.state.active_map}\n\t\t\t\t\t\tactiveMapImages={this.state.map_images}\n\t\t\t\t\t\tactiveImageIndex={this.state.map_image_index}\n\t\t\t\t\t\ttimer={this.state.timer}\n\t\t\t\t\t\ttimerIsPaused={this.state.timer_is_paused}\n\t\t\t\t\t\tstopTimer={this.stopTimer}\n\t\t\t\t\t\tstartTimer={this.startTimer}\n\t\t\t\t\t/>\n\t\t\t\t</CalloutWrapper>\n\t\t\t</Page>\n\t\t);\n\t}\n}\n\nexport default Callouts;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAHA;AAMA;AAXA;AACA;AAqBA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;;AAnDA;AACA;AACA;;;AAEA;AACA;AACA;;;AA8CA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;;;;AAvFA;AACA;AAyFA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}